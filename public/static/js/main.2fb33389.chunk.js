(window.webpackJsonppms_ui=window.webpackJsonppms_ui||[]).push([[0],{59:function(t,e,a){t.exports=a(98)},70:function(t,e,a){},98:function(t,e,a){"use strict";a.r(e);var r=a(0),n=a.n(r),c=a(15),o=a.n(c),u=a(16),s=a(7),i=a(36),l=a(51),d=a.n(l),p=a(52),m=a(53),h=a(20);function f(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}var E={editObject:void 0};var P=Object(s.c)({storedState:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"EDIT_PRODUCT":return function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?f(a,!0).forEach((function(e){Object(h.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):f(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},t,{editObject:e.payload});default:return t}}}),b={key:"root",storage:d.a},y=Object(i.a)(b,P),v=Object(s.d)(y,Object(s.a)(p.a,m.logger)),O=(Object(i.b)(v),v),g=(a(70),a(21)),j=a(22),T=a(25),w=a(23),D=a(26),N=a(105),C=a(100),S=a(56),L=a(101),k=a(104),x=(a(31),a(18)),I=a.n(x),_="saveProduct",A="fetchProducts",B="deleteProduct",G="editProduct";function U(t){return function(e){return function(t){var e="/".concat(_);return I()({method:"POST",url:e.trim(),data:t,headers:{"Content-Type":"application/json; charset=utf-8"}})}(t).then((function(t){return t.data}))}}function M(){return function(t){return function(){var t="http://localhost:8080/".concat(A);return I()({method:"GET",url:t.trim(),headers:{"Content-Type":"application/json; charset=utf-8"}})}().then((function(t){return t.data}))}}function R(t){return function(e){return function(t){var e="/".concat(B,"/").concat(t);return I()({method:"Patch",url:e.trim(),headers:{"Content-Type":"application/json; charset=utf-8"}})}(t).then((function(t){return M()(e).then((function(e){return[e,t]}))}))}}function F(t){return{type:"EDIT_PRODUCT",payload:t}}function J(t){return function(e){return function(t){var e="/".concat(G,"/").concat(t.id);return I()({method:"PUT",url:e.trim(),data:t,headers:{"Content-Type":"application/json; charset=utf-8"}})}(t).then((function(t){return e(function(t){return{type:"EDIT_PRODUCT",payload:t}}(void 0)),t.data}))}}var K=a(12),q=function(t){function e(t){var a;return Object(g.a)(this,e),(a=Object(T.a)(this,Object(w.a)(e).call(this,t))).inputChange=function(t){a.setState(Object(h.a)({},t.target.name,t.target.value))},a.setShow=function(t){a.setState({showToast:t})},a.submitForm=function(){var t=a.state,e=t.productName,r=t.productDescription,n=t.productPrice;if(e)if(n)if(n=Number(n),a.props.editList){var c=a.props.editList._id;a.props.editProductDetails({id:c,productName:e,productDescription:r,productPrice:n}).then((function(t){a.setState({message:"Product : ".concat(t.productName," editted successfully "),showToast:!0,toastType:"success",redirect:!0})}))}else a.props.registerProduct({productName:e,productDescription:r,productPrice:n}).then((function(t){a.setState({message:"Product : ".concat(t.productName," registered successfully "),showToast:!0,toastType:"success",redirect:!0})}));else a.setState({message:"Product price can't be empty ",showToast:!0,toastType:"error"});else a.setState({message:"Product name can't be empty ",showToast:!0,toastType:"error"})},a.state={productName:"",productDescription:"",productPrice:"",message:"",showToast:!1,toastType:"",redirect:!1,productDetails:"Add Product Details"},a}return Object(D.a)(e,t),Object(j.a)(e,[{key:"componentDidMount",value:function(){if(this.props.editList){var t=this.props.editList,e=t.productName,a=t.productDescription,r=t.productPrice;this.setState({productDetails:"Edit Product Details",productName:e,productDescription:a,productPrice:r})}}},{key:"render",value:function(){var t=this;return this.state.redirect?n.a.createElement(K.a,{push:!0,to:"/prodList"}):n.a.createElement("div",{className:"product-body"},n.a.createElement("h3",null,this.state.productDetails),n.a.createElement(N.a,null,n.a.createElement(N.a.Group,{as:C.a,controlId:"formPlaintextEmail"},n.a.createElement(N.a.Label,{column:!0,sm:"3"},"Product Name"),n.a.createElement(S.a,{sm:"9"},n.a.createElement(N.a.Control,{type:"text",name:"productName",value:this.state.productName,onChange:function(e){return t.inputChange(e)},placeholder:"Product name"}))),n.a.createElement(N.a.Group,{as:C.a,controlId:"formPlaintextPassword"},n.a.createElement(N.a.Label,{column:!0,sm:"3"},"Product Description"),n.a.createElement(S.a,{sm:"9"},n.a.createElement(N.a.Control,{name:"productDescription",value:this.state.productDescription,onChange:function(e){return t.inputChange(e)},as:"textarea",rows:"3"}))),n.a.createElement(N.a.Group,{as:C.a,controlId:"formPlaintextEmail"},n.a.createElement(N.a.Label,{column:!0,sm:"3"},"Product Price"),n.a.createElement(S.a,{sm:"9"},n.a.createElement(N.a.Control,{type:"number",name:"productPrice",value:this.state.productPrice,onChange:function(e){return t.inputChange(e)},placeholder:"Product Price"}))),n.a.createElement(L.a,{variant:"primary",onClick:this.submitForm},"Submit")),n.a.createElement(k.a,{onClose:function(){return t.setShow(!1)},show:this.state.showToast,delay:3e3,className:"toast "+this.state.toastType,autohide:!0},n.a.createElement(k.a.Body,null,this.state.message)))}}]),e}(r.Component);var z=Object(u.b)((function(t){return{editList:t.storedState.editObject}}),(function(t){return Object(s.b)({registerProduct:U,editProductDetails:J},t)}))(q),H=a(103),Q=a(13);var V=function(){return n.a.createElement("header",null,n.a.createElement("nav",{className:"header-container"},n.a.createElement("h2",{className:"top-heading"},"Product Management System"),n.a.createElement(H.a,{variant:"tabs",defaultActiveKey:"/"},n.a.createElement(H.a.Item,null,n.a.createElement(Q.b,{to:"/",activeClassName:"selected",exact:!0},"Add Product")),n.a.createElement(H.a.Item,null,n.a.createElement(Q.b,{to:"/prodList",activeClassName:"selected"},"Product List")))))},W=a(102),X=function(t){function e(t){var a;return Object(g.a)(this,e),(a=Object(T.a)(this,Object(w.a)(e).call(this,t))).setShow=function(t){a.setState({showToast:t})},a.editProduct=function(t){a.props.editProduct(t),a.setState({redirect:!0})},a.filterTable=function(t){var e=a.state.product.filter((function(e){return-1!==e.productName.toLowerCase().indexOf(t.target.value.toLowerCase())}));a.setState({filterProduct:e})},a.state={showToast:!1,toastType:"",product:[],filterProduct:[],redirect:!1},a}return Object(D.a)(e,t),Object(j.a)(e,[{key:"componentDidMount",value:function(){var t=this;this.props.fetchAllProducts().then((function(e){t.setState({product:e,filterProduct:e})}))}},{key:"deleteProduct",value:function(t){var e=this;this.props.deleteSelectedProduct(t).then((function(t){e.setState({showToast:!0,toastType:"success",message:"Product : ".concat(t[1].data.productName," deleted successfully"),product:t[0],filterProduct:t[0]})}))}},{key:"render",value:function(){var t,e=this;return this.state.redirect?n.a.createElement(K.a,{push:!0,to:"/"}):(t=this.state.filterProduct.length>0?this.state.filterProduct.map((function(t,a){return n.a.createElement("tr",{key:t._id},n.a.createElement("td",null,a+1),n.a.createElement("td",null,t.productName),n.a.createElement("td",null,t.productDescription),n.a.createElement("td",null,t.productPrice),n.a.createElement("td",{className:"cursor-pointer",onClick:function(){return e.editProduct(t)}},n.a.createElement("i",{className:"fa fa-edit"})),n.a.createElement("td",{className:"cursor-pointer",onClick:function(){return e.deleteProduct(t._id)}},n.a.createElement("i",{className:"fa fa-trash"})))})):n.a.createElement("tr",null,n.a.createElement("td",null,"Product list is empty")),n.a.createElement("div",{className:"table-content"},n.a.createElement("input",{className:"input-search",type:"text",onChange:function(t){return e.filterTable(t)},placeholder:"Search By Product Name..."}),n.a.createElement(W.a,{responsive:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"#"),n.a.createElement("th",null,"Product Name"),n.a.createElement("th",null,"Product Description"),n.a.createElement("th",null,"Product Price"),n.a.createElement("th",null,"Edit"),n.a.createElement("th",null,"Delete"))),n.a.createElement("tbody",null,t)),n.a.createElement(k.a,{onClose:function(){return e.setShow(!1)},show:this.state.showToast,delay:3e3,className:"toast "+this.state.toastType,autohide:!0},n.a.createElement(k.a.Body,null,this.state.message))))}}]),e}(r.Component);var Y=Object(u.b)((function(t){return{state:t}}),(function(t){return Object(s.b)({fetchAllProducts:M,deleteSelectedProduct:R,editProduct:F},t)}))(X);var Z=function(){return n.a.createElement("div",{className:"app-container"},n.a.createElement(Q.a,null,n.a.createElement(V,null),n.a.createElement(K.d,null,n.a.createElement(K.b,{exact:!0,path:"/"},n.a.createElement(z,null)),n.a.createElement(K.b,{path:"/prodList"},n.a.createElement(Y,null)))))};o.a.render(n.a.createElement(u.a,{store:O},n.a.createElement(Z,null)),document.getElementById("root"))}},[[59,1,2]]]);
//# sourceMappingURL=main.2fb33389.chunk.js.map